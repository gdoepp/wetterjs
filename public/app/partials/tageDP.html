<!--  (c) Gerhard DÃ¶ppert, 2017 -->


<h2>{{$ctrl.wert}} {{$ctrl.data.title}} {{$ctrl.parent.myScope.station}}</h2>
<br/>

<div style="position:relative;width:100%;">
<canvas width="160" height="95"></canvas>
<svg width='100%' viewBox="0 -10 1600 938" version="1.1" xmlns="http://www.w3.org/2000/svg">
<g>

	
	<polyline ng-repeat="x in $ctrl.data.gridXPath" 
	   ng-attr-points="{{x}}"
	  style="fill:none;stroke:black;stroke-width:1" />
	
	<polyline ng-repeat="y in $ctrl.data.gridYPath" 
	   ng-attr-points="{{y}}"
	  style="fill:none;stroke:black;stroke-width:{{$ctrl.data.gridYStroke[$index]}}" />
	
	<rect class='button' ng-repeat="t in $ctrl.data.link"
	   ng-attr-x={{$ctrl.data.x[$index]}} ng-attr-y={{$ctrl.data.tickXy-20}}
	   ng-attr-width={{$ctrl.data.tickXwidth}} ng-attr-height={{$ctrl.data.tickXheight*2}}
	   ng-click="$ctrl.parent.myScope.goDP(t,$ctrl.value, 'Tag')" >
	</rect>
	
	<text  ng-repeat="tag in $ctrl.data.tickXTag"
	   ng-attr-x={{$ctrl.data.tickXx[$index]}} ng-attr-y={{$ctrl.data.tickXy}} 
	   fill='black' font-size="12pt" >
	  {{tag}}
	</text>
	
	<text  ng-repeat="tag in $ctrl.data.tickYTag"
	   ng-attr-x={{$ctrl.data.tickYx}} ng-attr-y={{$ctrl.data.tickYy[$index]+6}} 
	   fill='black' font-size="12pt" text-anchor="end">
	  {{tag}}
	</text>
	
	 <g ng-repeat="value in $ctrl.data.values">
	 
	<polyline ng-attr-points="{{$ctrl.data[value]}}"
	  ng-attr-style="fill:none;stroke:{{$ctrl.data.cols[value]}};stroke-width:3" />

    <text ng-attr-x='{{90+200*$index}}' y='924' font-size='12pt' ng-attr-fill='{{$ctrl.data.cols[value]}}'>{{$ctrl.data.werte[value]}}</text>        
	  	
	</g>

	        
   </g>
    
</svg>
</div>
<br/>
<br/>
<button  id="tpm" ng-show="$ctrl.time=='Tag' || $ctrl.time=='Tage' " 
ng-click="$ctrl.parent.myScope.goDP($ctrl.monat, $ctrl.value, 'Monat')">Monat</button>

<button  id="tp3" ng-show="$ctrl.time=='Tag'&& $ctrl.value=='pres'" 
ng-click="$ctrl.parent.myScope.goDP($ctrl.heute, $ctrl.value, 'Tage')">3 Tage</button>

<button  id="tp1" ng-show="$ctrl.time=='Tage' && $ctrl.value=='pres'" 
ng-click="$ctrl.parent.myScope.goDP($ctrl.heute, $ctrl.value, 'Tag')">Tag</button>

<button   id="tpl"  class='dirbutton'
ng-click="$ctrl.parent.myScope.goDP($ctrl.vorher, $ctrl.value, $ctrl.time)">&lt;</button>

<button   id="tpp"  class='dirbutton'
ng-click="$ctrl.parent.myScope.goDP($ctrl.nachher, $ctrl.value, $ctrl.time)">&gt;</button>
